import{S as a,i as s,s as e,e as l,t,a as r,y as o,b as c,f as i,g as n,d,c as u,z as f,h as p,j as h,k as m,l as b,A as v,m as E,D as g,E as x,F as y,r as I,o as L,U as w}from"./client.36844de2.js";import{p as A,g as $}from"./api.e630a648.js";import{M as j}from"./MultiSelect.ee803a52.js";import{f as k}from"./index.66705cc8.js";import"./IconBase.52240270.js";import"./popper.392db775.js";function T(a){let s,e;return{c(){s=l("small"),e=t("nama harus diisi"),this.h()},l(a){s=c(a,"SMALL",{class:!0});var l=i(s);e=n(l,"nama harus diisi"),l.forEach(d),this.h()},h(){p(s,"class","text-red-500 text-xs")},m(a,l){h(a,s,l),m(s,e)},d(a){a&&d(s)}}}function D(a){let s,e,L,w,A,$,k,D,B,N,S,P,U,q,M,K,R,X,z,F,O,_,C,G,H,J,Q,W,Y,Z,aa,sa,ea,la,ta,ra,oa,ca,ia,na,da,ua,fa=a[6].fields.title.errors.includes("required"),pa=fa&&T();return C=new j({props:{options:a[4].map(V),selected:a[5],label:"pilih kategori"}}),C.$on("select",a[11]),C.$on("remove",a[12]),{c(){s=l("div"),e=l("div"),L=l("div"),w=t("input data produk"),A=r(),$=l("div"),k=l("label"),D=t("Nama"),B=r(),N=l("input"),S=r(),pa&&pa.c(),P=r(),U=l("div"),q=l("label"),M=t("Satuan"),K=r(),R=l("input"),X=r(),z=l("div"),F=l("label"),O=t("Kategori"),_=r(),o(C.$$.fragment),G=r(),H=l("div"),J=l("label"),Q=t("Penjelasan"),W=r(),Y=l("textarea"),Z=r(),aa=l("div"),sa=l("label"),ea=t("Info Tambahan"),la=r(),ta=l("textarea"),ra=r(),oa=l("button"),ca=t("simpan"),this.h()},l(a){s=c(a,"DIV",{class:!0});var l=i(s);e=c(l,"DIV",{class:!0});var t=i(e);L=c(t,"DIV",{class:!0});var r=i(L);w=n(r,"input data produk"),r.forEach(d),A=u(t),$=c(t,"DIV",{class:!0});var o=i($);k=c(o,"LABEL",{});var p=i(k);D=n(p,"Nama"),p.forEach(d),B=u(o),N=c(o,"INPUT",{class:!0}),S=u(o),pa&&pa.l(o),o.forEach(d),P=u(t),U=c(t,"DIV",{class:!0});var h=i(U);q=c(h,"LABEL",{});var m=i(q);M=n(m,"Satuan"),m.forEach(d),K=u(h),R=c(h,"INPUT",{class:!0}),h.forEach(d),X=u(t),z=c(t,"DIV",{class:!0});var b=i(z);F=c(b,"LABEL",{});var v=i(F);O=n(v,"Kategori"),v.forEach(d),_=u(b),f(C.$$.fragment,b),b.forEach(d),G=u(t),H=c(t,"DIV",{class:!0});var E=i(H);J=c(E,"LABEL",{});var g=i(J);Q=n(g,"Penjelasan"),g.forEach(d),W=u(E),Y=c(E,"TEXTAREA",{class:!0}),i(Y).forEach(d),E.forEach(d),Z=u(t),aa=c(t,"DIV",{class:!0});var x=i(aa);sa=c(x,"LABEL",{});var y=i(sa);ea=n(y,"Info Tambahan"),y.forEach(d),la=u(x),ta=c(x,"TEXTAREA",{class:!0}),i(ta).forEach(d),x.forEach(d),ra=u(t),oa=c(t,"BUTTON",{disabled:!0,class:!0});var I=i(oa);ca=n(I,"simpan"),I.forEach(d),t.forEach(d),l.forEach(d),this.h()},h(){p(L,"class","font-bold text-xl mb-3"),p(N,"class","border border-gray-300 rounded p-2"),p($,"class","flex flex-col mb-3"),p(R,"class","border border-gray-300 rounded p-2"),p(U,"class","flex flex-col mb-3"),p(z,"class","flex flex-col mb-3"),p(Y,"class","border border-gray-300 rounded p-2"),p(H,"class","flex flex-col mb-3"),p(ta,"class","border border-gray-300 rounded p-2"),p(aa,"class","flex flex-col mb-3"),oa.disabled=ia=!a[6].valid,p(oa,"class","px-6 py-1 bg-blue-600 text-white font-bold rounded shadow disabled:opacity-50"),p(e,"class","w-1/3 p-4 rounded bg-white text-sm"),p(s,"class","flex items-center justify-center flex-grow")},m(l,t){h(l,s,t),m(s,e),m(e,L),m(L,w),m(e,A),m(e,$),m($,k),m(k,D),m($,B),m($,N),b(N,a[0]),m($,S),pa&&pa.m($,null),m(e,P),m(e,U),m(U,q),m(q,M),m(U,K),m(U,R),b(R,a[3]),m(e,X),m(e,z),m(z,F),m(F,O),m(z,_),v(C,z,null),m(e,G),m(e,H),m(H,J),m(J,Q),m(H,W),m(H,Y),b(Y,a[1]),m(e,Z),m(e,aa),m(aa,sa),m(sa,ea),m(aa,la),m(aa,ta),b(ta,a[2]),m(e,ra),m(e,oa),m(oa,ca),na=!0,da||(ua=[E(N,"input",a[9]),E(R,"input",a[10]),E(Y,"input",a[13]),E(ta,"input",a[14]),E(oa,"click",a[8])],da=!0)},p(a,[s]){1&s&&N.value!==a[0]&&b(N,a[0]),64&s&&(fa=a[6].fields.title.errors.includes("required")),fa?pa||(pa=T(),pa.c(),pa.m($,null)):pa&&(pa.d(1),pa=null),8&s&&R.value!==a[3]&&b(R,a[3]);const e={};16&s&&(e.options=a[4].map(V)),32&s&&(e.selected=a[5]),C.$set(e),2&s&&b(Y,a[1]),4&s&&b(ta,a[2]),(!na||64&s&&ia!==(ia=!a[6].valid))&&(oa.disabled=ia)},i(a){na||(g(C.$$.fragment,a),na=!0)},o(a){x(C.$$.fragment,a),na=!1},d(a){a&&d(s),pa&&pa.d(),y(C),da=!1,I(ua)}}}const V=a=>({label:a.title,value:a.id});function B(a,s,e){let l,t="",r="",o="",c="",i=[],n=[],d=k((()=>({title:{value:t,validators:["required"]}})));L(a,d,(a=>e(6,l=a))),w((async()=>{await async function(){try{e(4,i=await $({url:"/api/v1/category"}))}catch(a){console.log(a),alert("gagal memuat data kategori")}}()}));return[t,r,o,c,i,n,l,d,async function(){const a={title:t,summary:r,content:o,unit:c,categories_id:n};try{const s=await A({url:"/api/v1/product",payload:a});console.log(s),alert("sukses menambah data produk"),window.history.back()}catch(a){console.log(a),alert("gagal menambah data produk")}},function(){t=this.value,e(0,t)},function(){c=this.value,e(3,c)},a=>{n.push(a.detail),e(5,n=[...n])},a=>{e(5,n=n.filter((s=>s!=a.detail)))},function(){r=this.value,e(1,r)},function(){o=this.value,e(2,o)}]}export default class extends a{constructor(a){super(),s(this,a,B,D,e,{})}}
