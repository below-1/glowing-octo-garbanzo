import{S as a,i as s,s as e,e as l,t as r,a as t,b as i,f as c,g as n,d as o,c as d,h as u,j as h,k as f,l as m,m as b,n as p,r as v,o as x}from"./client.36844de2.js";import{p as y}from"./api.e630a648.js";import{f as g}from"./index.66705cc8.js";function E(a){let s,e;return{c(){s=l("small"),e=r("nama harus diisi"),this.h()},l(a){s=i(a,"SMALL",{class:!0});var l=c(s);e=n(l,"nama harus diisi"),l.forEach(o),this.h()},h(){u(s,"class","text-red-500 text-xs")},m(a,l){h(a,s,l),f(s,e)},d(a){a&&o(s)}}}function w(a){let s,e,x,y,g,w,j,I,D,V,L,N,k,q,T,A,B,S,U=a[1].fields.name.errors.includes("required"),M=U&&E();return{c(){s=l("div"),e=l("div"),x=l("div"),y=r("input jenis beban usaha"),g=t(),w=l("div"),j=l("label"),I=r("Nama"),D=t(),V=l("div"),L=l("input"),N=t(),M&&M.c(),k=t(),q=l("button"),T=r("simpan"),this.h()},l(a){s=i(a,"DIV",{class:!0});var l=c(s);e=i(l,"DIV",{class:!0});var r=c(e);x=i(r,"DIV",{class:!0});var t=c(x);y=n(t,"input jenis beban usaha"),t.forEach(o),g=d(r),w=i(r,"DIV",{class:!0});var u=c(w);j=i(u,"LABEL",{});var h=c(j);I=n(h,"Nama"),h.forEach(o),D=d(u),V=i(u,"DIV",{class:!0});var f=c(V);L=i(f,"INPUT",{class:!0}),N=d(f),M&&M.l(f),f.forEach(o),u.forEach(o),k=d(r),q=i(r,"BUTTON",{disabled:!0,class:!0});var m=c(q);T=n(m,"simpan"),m.forEach(o),r.forEach(o),l.forEach(o),this.h()},h(){u(x,"class","font-semibold text-gray-600 text-xl mb-4"),u(L,"class","border border-gray-300 rounded px-2 py-1"),u(V,"class","flex flex-col"),u(w,"class","flex flex-col mb-4  "),q.disabled=A=!a[1].valid,u(q,"class","px-6 py-1 bg-blue-600 text-white font-bold rounded shadow disabled:opacity-50"),u(e,"class","w-1/3 p-4 rounded bg-white text-sm"),u(s,"class","flex items-center justify-center flex-grow")},m(l,r){h(l,s,r),f(s,e),f(e,x),f(x,y),f(e,g),f(e,w),f(w,j),f(j,I),f(w,D),f(w,V),f(V,L),m(L,a[0]),f(V,N),M&&M.m(V,null),f(e,k),f(e,q),f(q,T),B||(S=[b(L,"input",a[4]),b(q,"click",a[3])],B=!0)},p(a,[s]){1&s&&L.value!==a[0]&&m(L,a[0]),2&s&&(U=a[1].fields.name.errors.includes("required")),U?M||(M=E(),M.c(),M.m(V,null)):M&&(M.d(1),M=null),2&s&&A!==(A=!a[1].valid)&&(q.disabled=A)},i:p,o:p,d(a){a&&o(s),M&&M.d(),B=!1,v(S)}}}function j(a,s,e){let l,r="";const t=g((()=>({name:{value:r,validators:["required"]}})));return x(a,t,(a=>e(1,l=a))),[r,l,t,async function(){try{const a=await y({url:"/api/v1/optype",payload:{name:r}});window.history.back(),console.log(a)}catch(a){console.log(a),alert("gagal menambah data beban usaha")}},function(){r=this.value,e(0,r)}]}export default class extends a{constructor(a){super(),s(this,a,j,w,e,{})}}
