import{S as a,i as s,s as l,e,t as r,a as i,b as t,f as d,g as c,d as n,c as o,h as u,j as f,k as p,l as m,m as h,n as v,r as b,o as x}from"./client.36844de2.js";import{f as E}from"./index.66705cc8.js";import{g,a as y}from"./api.e630a648.js";function L(a){let s,l;return{c(){s=e("small"),l=r("nama harus diisi"),this.h()},l(a){s=t(a,"SMALL",{class:!0});var e=d(s);l=c(e,"nama harus diisi"),e.forEach(n),this.h()},h(){u(s,"class","text-red-500 text-xs")},m(a,e){f(a,s,e),p(s,l)},d(a){a&&n(s)}}}function I(a){let s,l;return{c(){s=e("small"),l=r("alamat harus diisi"),this.h()},l(a){s=t(a,"SMALL",{class:!0});var e=d(s);l=c(e,"alamat harus diisi"),e.forEach(n),this.h()},h(){u(s,"class","text-red-500 text-xs")},m(a,e){f(a,s,e),p(s,l)},d(a){a&&n(s)}}}function w(a){let s,l,x,E,g,y,w,N,A,$,D,V,q,T,j,B,U,k,P,S,H,M,_,O,z,C,F,G,J,K,Q,R,W,X,Y,Z,aa=a[4].fields.nama.errors.includes("required"),sa=a[4].fields.address.errors.includes("required"),la=aa&&L(),ea=sa&&I();return{c(){s=e("div"),l=e("div"),x=e("div"),E=r("input data supplier"),g=i(),y=e("div"),w=e("label"),N=r("Nama"),A=i(),$=e("input"),D=i(),la&&la.c(),V=i(),q=e("div"),T=e("label"),j=r("Alamat"),B=i(),U=e("input"),k=i(),ea&&ea.c(),P=i(),S=e("div"),H=e("label"),M=r("Email"),_=i(),O=e("input"),z=i(),C=e("div"),F=e("label"),G=r("No. Hp"),J=i(),K=e("input"),Q=i(),R=e("button"),W=r("simpan"),this.h()},l(a){s=t(a,"DIV",{class:!0});var e=d(s);l=t(e,"DIV",{class:!0});var r=d(l);x=t(r,"DIV",{class:!0});var i=d(x);E=c(i,"input data supplier"),i.forEach(n),g=o(r),y=t(r,"DIV",{class:!0});var u=d(y);w=t(u,"LABEL",{});var f=d(w);N=c(f,"Nama"),f.forEach(n),A=o(u),$=t(u,"INPUT",{class:!0}),D=o(u),la&&la.l(u),u.forEach(n),V=o(r),q=t(r,"DIV",{class:!0});var p=d(q);T=t(p,"LABEL",{});var m=d(T);j=c(m,"Alamat"),m.forEach(n),B=o(p),U=t(p,"INPUT",{class:!0}),k=o(p),ea&&ea.l(p),p.forEach(n),P=o(r),S=t(r,"DIV",{class:!0});var h=d(S);H=t(h,"LABEL",{});var v=d(H);M=c(v,"Email"),v.forEach(n),_=o(h),O=t(h,"INPUT",{type:!0,class:!0}),h.forEach(n),z=o(r),C=t(r,"DIV",{class:!0});var b=d(C);F=t(b,"LABEL",{});var L=d(F);G=c(L,"No. Hp"),L.forEach(n),J=o(b),K=t(b,"INPUT",{class:!0}),b.forEach(n),Q=o(r),R=t(r,"BUTTON",{disabled:!0,class:!0});var I=d(R);W=c(I,"simpan"),I.forEach(n),r.forEach(n),e.forEach(n),this.h()},h(){u(x,"class","font-bold text-xl mb-3"),u($,"class","border border-gray-300 rounded p-2"),u(y,"class","flex flex-col mb-3"),u(U,"class","border border-gray-300 rounded p-2"),u(q,"class","flex flex-col mb-3"),u(O,"type","email"),u(O,"class","border border-gray-300 rounded p-2"),u(S,"class","flex flex-col mb-3"),u(K,"class","border border-gray-300 rounded p-2"),u(C,"class","flex flex-col mb-3"),R.disabled=X=!a[4].valid,u(R,"class","px-6 py-1 bg-blue-600 text-white font-bold rounded shadow disabled:opacity-50"),u(l,"class","w-1/3 p-4 rounded bg-white text-sm"),u(s,"class","flex items-center justify-center flex-grow")},m(e,r){f(e,s,r),p(s,l),p(l,x),p(x,E),p(l,g),p(l,y),p(y,w),p(w,N),p(y,A),p(y,$),m($,a[0]),p(y,D),la&&la.m(y,null),p(l,V),p(l,q),p(q,T),p(T,j),p(q,B),p(q,U),m(U,a[1]),p(q,k),ea&&ea.m(q,null),p(l,P),p(l,S),p(S,H),p(H,M),p(S,_),p(S,O),m(O,a[2]),p(l,z),p(l,C),p(C,F),p(F,G),p(C,J),p(C,K),m(K,a[3]),p(l,Q),p(l,R),p(R,W),Y||(Z=[h($,"input",a[8]),h(U,"input",a[9]),h(O,"input",a[10]),h(K,"input",a[11]),h(R,"click",a[6])],Y=!0)},p(a,[s]){1&s&&$.value!==a[0]&&m($,a[0]),16&s&&(aa=a[4].fields.nama.errors.includes("required")),aa?la||(la=L(),la.c(),la.m(y,null)):la&&(la.d(1),la=null),2&s&&U.value!==a[1]&&m(U,a[1]),16&s&&(sa=a[4].fields.address.errors.includes("required")),sa?ea||(ea=I(),ea.c(),ea.m(q,null)):ea&&(ea.d(1),ea=null),4&s&&O.value!==a[2]&&m(O,a[2]),8&s&&K.value!==a[3]&&m(K,a[3]),16&s&&X!==(X=!a[4].valid)&&(R.disabled=X)},i:v,o:v,d(a){a&&n(s),la&&la.d(),ea&&ea.d(),Y=!1,b(Z)}}}async function N(a){return a.params}function A(a,s,l){let e,{id:r}=s,i="",t="",d=null,c=null;const n=E((()=>({nama:{value:i,validators:["required"]},address:{value:t,validators:["required"]}})));return x(a,n,(a=>l(4,e=a))),a.$$set=a=>{"id"in a&&l(7,r=a.id)},a.$$.update=()=>{128&a.$$.dirty&&async function({id:a}){if(!a)return;const s=`/api/v1/supplier/${a}`;try{const a=await g({url:s});l(0,i=a.first_name),l(1,t=a.address),l(2,d=a.email),l(3,c=a.mobile)}catch(a){console.log(a),alert("gagal mengambil data supplier")}}({id:r})},[i,t,d,c,e,n,async function(){const a={first_name:i,address:t,mobile:c,email:d},s=`/api/v1/supplier/${r}`;try{const l=await y({url:s,payload:a});console.log(l),alert("sukses mengubah data supplier"),window.history.back()}catch(a){console.log(a),alert("gagal mengubah data supplier")}},r,function(){i=this.value,l(0,i)},function(){t=this.value,l(1,t)},function(){d=this.value,l(2,d)},function(){c=this.value,l(3,c)}]}export default class extends a{constructor(a){super(),s(this,a,A,w,l,{id:7})}}export{N as preload};
