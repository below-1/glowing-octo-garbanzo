import{S as a,i as r,s as e,x as t,y as s,z as o,A as n,B as c,C as l,D as i,E as f,F as p,G as h,H as d,b as u,f as v,d as g,h as m,j as $,e as E,t as b,a as T,g as w,c as I,k as y,m as D,N as x,J as k,R as j,r as H,V}from"./client.36844de2.js";import{P as _}from"./Pagination.fe78ef91.js";import{g as B,d as A}from"./api.e630a648.js";import{r as F}from"./rupiah.1a14ef94.js";import{F as N}from"./FaPencilAlt.537b2edc.js";import{I as L}from"./IconBase.52240270.js";import{F as O}from"./FaTrash.51c15d68.js";import{d as P}from"./store.328673de.js";function z(a){let r;return{c(){r=d("path"),this.h()},l(a){r=u(a,"path",{d:!0},1),v(r).forEach(g),this.h()},h(){m(r,"d","M32 448c0 17.7 14.3 32 32 32h384c17.7 0 32-14.3 32-32V160H32v288zm160-212c0-6.6 5.4-12 12-12h104c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-8zM480 32H32C14.3 32 0 46.3 0 64v48c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16V64c0-17.7-14.3-32-32-32z")},m(a,e){$(a,r,e)},d(a){a&&g(r)}}}function C(a){let r,e;const h=[{viewBox:"0 0 512 512"},a[0]];let d={$$slots:{default:[z]},$$scope:{ctx:a}};for(let a=0;a<h.length;a+=1)d=t(d,h[a]);return r=new L({props:d}),{c(){s(r.$$.fragment)},l(a){o(r.$$.fragment,a)},m(a,t){n(r,a,t),e=!0},p(a,[e]){const t=1&e?c(h,[h[0],l(a[0])]):{};2&e&&(t.$$scope={dirty:e,ctx:a}),r.$set(t)},i(a){e||(i(r.$$.fragment,a),e=!0)},o(a){f(r.$$.fragment,a),e=!1},d(a){p(r,a)}}}function R(a,r,e){return a.$$set=a=>{e(0,r=t(t({},r),h(a)))},[r=h(r)]}class U extends a{constructor(a){super(),r(this,a,R,C,e,{})}}function S(a,r,e){const t=a.slice();return t[11]=r[e],t[13]=e,t}function q(a){let r,e,t,c,l,h,d,k,j,H,V,_,B,A,L,P,z,C,R,S,q,M,G,J,Y,K,Q,W,X,Z,aa,ra,ea,ta,sa,oa,na,ca,la,ia,fa,pa,ha,da=a[13]+1+a[0]*a[2]+"",ua=a[11].title+"",va=(a[11].sale_price?F(parseInt(a[11].sale_price)):"-")+"",ga=(100*a[11].discount).toFixed(2)+"",ma=(a[11].available?a[11].available:"-")+"",$a=(a[11].sold?a[11].sold:"-")+"",Ea=(a[11].defective?a[11].defective:"-")+"";function ba(){return a[8](a[11])}return W=new N({}),ea=new U({}),ca=new O({}),{c(){r=E("tr"),e=E("td"),t=b(da),c=T(),l=E("td"),h=b(ua),d=T(),k=E("td"),j=b(va),H=T(),V=E("td"),_=b(ga),B=b(" %"),A=T(),L=E("td"),P=b(ma),z=T(),C=E("td"),R=b($a),S=T(),q=E("td"),M=b(Ea),G=T(),J=E("td"),Y=E("div"),K=E("a"),Q=E("div"),s(W.$$.fragment),Z=T(),aa=E("a"),ra=E("div"),s(ea.$$.fragment),sa=T(),oa=E("button"),na=E("div"),s(ca.$$.fragment),ia=T(),this.h()},l(a){r=u(a,"TR",{});var s=v(r);e=u(s,"TD",{});var n=v(e);t=w(n,da),n.forEach(g),c=I(s),l=u(s,"TD",{});var i=v(l);h=w(i,ua),i.forEach(g),d=I(s),k=u(s,"TD",{});var f=v(k);j=w(f,va),f.forEach(g),H=I(s),V=u(s,"TD",{});var p=v(V);_=w(p,ga),B=w(p," %"),p.forEach(g),A=I(s),L=u(s,"TD",{});var m=v(L);P=w(m,ma),m.forEach(g),z=I(s),C=u(s,"TD",{});var $=v(C);R=w($,$a),$.forEach(g),S=I(s),q=u(s,"TD",{});var E=v(q);M=w(E,Ea),E.forEach(g),G=I(s),J=u(s,"TD",{});var b=v(J);Y=u(b,"DIV",{class:!0});var T=v(Y);K=u(T,"A",{href:!0,class:!0});var y=v(K);Q=u(y,"DIV",{class:!0});var D=v(Q);o(W.$$.fragment,D),D.forEach(g),y.forEach(g),Z=I(T),aa=u(T,"A",{href:!0,class:!0});var x=v(aa);ra=u(x,"DIV",{class:!0});var F=v(ra);o(ea.$$.fragment,F),F.forEach(g),x.forEach(g),sa=I(T),oa=u(T,"BUTTON",{disabled:!0,class:!0});var N=v(oa);na=u(N,"DIV",{class:!0});var O=v(na);o(ca.$$.fragment,O),O.forEach(g),N.forEach(g),T.forEach(g),b.forEach(g),ia=I(s),s.forEach(g),this.h()},h(){m(Q,"class","w-3 h-3 text-blue-500"),m(K,"href",X=`/app/product/${a[11].id}/edit`),m(K,"class","appearance-none rounded-full p-1 mr-2 hover:bg-gray-300"),m(ra,"class","w-3 h-3 text-indigo-500"),m(aa,"href",ta=`/app/product/${a[11].id}/items`),m(aa,"class","appearance-none rounded-full p-1 mr-2 hover:bg-gray-300"),m(na,"class","w-3 h-3 text-red-500"),oa.disabled=la=a[11].sold,m(oa,"class","appearance-none rounded-full p-1 hover:bg-gray-300 mr-2 disabled:opacity-50"),m(Y,"class","flex items-center justify-end")},m(a,s){$(a,r,s),y(r,e),y(e,t),y(r,c),y(r,l),y(l,h),y(r,d),y(r,k),y(k,j),y(r,H),y(r,V),y(V,_),y(V,B),y(r,A),y(r,L),y(L,P),y(r,z),y(r,C),y(C,R),y(r,S),y(r,q),y(q,M),y(r,G),y(r,J),y(J,Y),y(Y,K),y(K,Q),n(W,Q,null),y(Y,Z),y(Y,aa),y(aa,ra),n(ea,ra,null),y(Y,sa),y(Y,oa),y(oa,na),n(ca,na,null),y(r,ia),fa=!0,pa||(ha=D(oa,"click",ba),pa=!0)},p(r,e){a=r,(!fa||5&e)&&da!==(da=a[13]+1+a[0]*a[2]+"")&&x(t,da),(!fa||8&e)&&ua!==(ua=a[11].title+"")&&x(h,ua),(!fa||8&e)&&va!==(va=(a[11].sale_price?F(parseInt(a[11].sale_price)):"-")+"")&&x(j,va),(!fa||8&e)&&ga!==(ga=(100*a[11].discount).toFixed(2)+"")&&x(_,ga),(!fa||8&e)&&ma!==(ma=(a[11].available?a[11].available:"-")+"")&&x(P,ma),(!fa||8&e)&&$a!==($a=(a[11].sold?a[11].sold:"-")+"")&&x(R,$a),(!fa||8&e)&&Ea!==(Ea=(a[11].defective?a[11].defective:"-")+"")&&x(M,Ea),(!fa||8&e&&X!==(X=`/app/product/${a[11].id}/edit`))&&m(K,"href",X),(!fa||8&e&&ta!==(ta=`/app/product/${a[11].id}/items`))&&m(aa,"href",ta),(!fa||8&e&&la!==(la=a[11].sold))&&(oa.disabled=la)},i(a){fa||(i(W.$$.fragment,a),i(ea.$$.fragment,a),i(ca.$$.fragment,a),fa=!0)},o(a){f(W.$$.fragment,a),f(ea.$$.fragment,a),f(ca.$$.fragment,a),fa=!1},d(a){a&&g(r),p(W),p(ea),p(ca),pa=!1,ha()}}}function M(a){let r,e,t,c,l,h,d,B,A,F,N,L,O,P,z,C,R,U,M,G,J,Y,K,Q,W,X,Z,aa,ra,ea,ta,sa,oa,na,ca,la,ia,fa,pa,ha,da,ua,va,ga,ma,$a,Ea,ba,Ta,wa,Ia,ya,Da,xa,ka,ja,Ha,Va,_a,Ba,Aa,Fa,Na,La,Oa,Pa,za=a[3].length+"",Ca=a[3],Ra=[];for(let r=0;r<Ca.length;r+=1)Ra[r]=q(S(a,Ca,r));const Ua=a=>f(Ra[a],1,1,(()=>{Ra[a]=null}));return Na=new _({props:{total_page:a[4],page:a[0]}}),Na.$on("change",a[9]),{c(){r=E("div"),e=E("section"),t=E("div"),c=E("div"),l=b("total data"),h=T(),d=E("div"),B=b(za),A=T(),F=E("div"),N=E("label"),L=b("pencarian"),O=T(),P=E("input"),z=T(),C=E("div"),R=E("label"),U=b("per halaman"),M=T(),G=E("input"),J=T(),Y=E("div"),K=T(),Q=E("button"),W=b("print"),X=T(),Z=E("a"),aa=b("tambah produk"),ra=T(),ea=E("section"),ta=E("table"),sa=E("thead"),oa=E("tr"),na=E("th"),ca=b("no."),la=T(),ia=E("th"),fa=b("nama"),pa=T(),ha=E("th"),da=b("harga jual"),ua=T(),va=E("th"),ga=b("diskon"),ma=T(),$a=E("th"),Ea=b("stok"),ba=T(),Ta=E("th"),wa=T(),Ia=E("tr"),ya=E("th"),Da=b("tersedia"),xa=T(),ka=E("th"),ja=b("terjual"),Ha=T(),Va=E("th"),_a=b("rusak"),Ba=T(),Aa=E("tbody");for(let a=0;a<Ra.length;a+=1)Ra[a].c();Fa=T(),s(Na.$$.fragment),this.h()},l(a){r=u(a,"DIV",{class:!0});var s=v(r);e=u(s,"SECTION",{class:!0});var n=v(e);t=u(n,"DIV",{class:!0});var i=v(t);c=u(i,"DIV",{});var f=v(c);l=w(f,"total data"),f.forEach(g),h=I(i),d=u(i,"DIV",{});var p=v(d);B=w(p,za),p.forEach(g),i.forEach(g),A=I(n),F=u(n,"DIV",{class:!0});var m=v(F);N=u(m,"LABEL",{});var $=v(N);L=w($,"pencarian"),$.forEach(g),O=I(m),P=u(m,"INPUT",{value:!0}),m.forEach(g),z=I(n),C=u(n,"DIV",{class:!0});var E=v(C);R=u(E,"LABEL",{});var b=v(R);U=w(b,"per halaman"),b.forEach(g),M=I(E),G=u(E,"INPUT",{value:!0,type:!0,min:!0}),E.forEach(g),J=I(n),Y=u(n,"DIV",{class:!0}),v(Y).forEach(g),K=I(n),Q=u(n,"BUTTON",{class:!0});var T=v(Q);W=w(T,"print"),T.forEach(g),X=I(n),Z=u(n,"A",{href:!0,class:!0});var y=v(Z);aa=w(y,"tambah produk"),y.forEach(g),n.forEach(g),ra=I(s),ea=u(s,"SECTION",{});var D=v(ea);ta=u(D,"TABLE",{class:!0});var x=v(ta);sa=u(x,"THEAD",{});var k=v(sa);oa=u(k,"TR",{});var j=v(oa);na=u(j,"TH",{rowspan:!0});var H=v(na);ca=w(H,"no."),H.forEach(g),la=I(j),ia=u(j,"TH",{rowspan:!0});var V=v(ia);fa=w(V,"nama"),V.forEach(g),pa=I(j),ha=u(j,"TH",{rowspan:!0});var _=v(ha);da=w(_,"harga jual"),_.forEach(g),ua=I(j),va=u(j,"TH",{rowspan:!0});var S=v(va);ga=w(S,"diskon"),S.forEach(g),ma=I(j),$a=u(j,"TH",{colspan:!0});var q=v($a);Ea=w(q,"stok"),q.forEach(g),ba=I(j),Ta=u(j,"TH",{rowspan:!0}),v(Ta).forEach(g),j.forEach(g),wa=I(k),Ia=u(k,"TR",{});var La=v(Ia);ya=u(La,"TH",{});var Oa=v(ya);Da=w(Oa,"tersedia"),Oa.forEach(g),xa=I(La),ka=u(La,"TH",{});var Pa=v(ka);ja=w(Pa,"terjual"),Pa.forEach(g),Ha=I(La),Va=u(La,"TH",{});var Ca=v(Va);_a=w(Ca,"rusak"),Ca.forEach(g),La.forEach(g),k.forEach(g),Ba=I(x),Aa=u(x,"TBODY",{});var Ua=v(Aa);for(let a=0;a<Ra.length;a+=1)Ra[a].l(Ua);Ua.forEach(g),x.forEach(g),D.forEach(g),Fa=I(s),o(Na.$$.fragment,s),s.forEach(g),this.h()},h(){m(t,"class","title-count"),P.value=a[1],m(F,"class","group-input"),G.value=a[2],m(G,"type","number"),m(G,"min","10"),m(C,"class","group-input"),m(Y,"class","flex-grow"),m(Q,"class","appearance-none border border-green-500 px-4 flex items-center font-bold mr-4"),m(Z,"href","/app/product/create"),m(Z,"class","appearance-none bg-green-500 text-white px-4 flex items-center font-bold"),m(e,"class","header flex text-sm"),m(na,"rowspan","2"),m(ia,"rowspan","2"),m(ha,"rowspan","2"),m(va,"rowspan","2"),m($a,"colspan","3"),m(Ta,"rowspan","2"),m(ta,"class","jo-table"),m(r,"class","cont")},m(s,o){$(s,r,o),y(r,e),y(e,t),y(t,c),y(c,l),y(t,h),y(t,d),y(d,B),y(e,A),y(e,F),y(F,N),y(N,L),y(F,O),y(F,P),y(e,z),y(e,C),y(C,R),y(R,U),y(C,M),y(C,G),y(e,J),y(e,Y),y(e,K),y(e,Q),y(Q,W),y(e,X),y(e,Z),y(Z,aa),y(r,ra),y(r,ea),y(ea,ta),y(ta,sa),y(sa,oa),y(oa,na),y(na,ca),y(oa,la),y(oa,ia),y(ia,fa),y(oa,pa),y(oa,ha),y(ha,da),y(oa,ua),y(oa,va),y(va,ga),y(oa,ma),y(oa,$a),y($a,Ea),y(oa,ba),y(oa,Ta),y(sa,wa),y(sa,Ia),y(Ia,ya),y(ya,Da),y(Ia,xa),y(Ia,ka),y(ka,ja),y(Ia,Ha),y(Ia,Va),y(Va,_a),y(ta,Ba),y(ta,Aa);for(let a=0;a<Ra.length;a+=1)Ra[a].m(Aa,null);y(r,Fa),n(Na,r,null),La=!0,Oa||(Pa=[D(P,"change",a[6]),D(G,"change",a[7])],Oa=!0)},p(a,[r]){if((!La||8&r)&&za!==(za=a[3].length+"")&&x(B,za),(!La||2&r&&P.value!==a[1])&&(P.value=a[1]),(!La||4&r)&&(G.value=a[2]),45&r){let e;for(Ca=a[3],e=0;e<Ca.length;e+=1){const t=S(a,Ca,e);Ra[e]?(Ra[e].p(t,r),i(Ra[e],1)):(Ra[e]=q(t),Ra[e].c(),i(Ra[e],1),Ra[e].m(Aa,null))}for(V(),e=Ca.length;e<Ra.length;e+=1)Ua(e);k()}const e={};16&r&&(e.total_page=a[4]),1&r&&(e.page=a[0]),Na.$set(e)},i(a){if(!La){for(let a=0;a<Ca.length;a+=1)i(Ra[a]);i(Na.$$.fragment,a),La=!0}},o(a){Ra=Ra.filter(Boolean);for(let a=0;a<Ra.length;a+=1)f(Ra[a]);f(Na.$$.fragment,a),La=!1},d(a){a&&g(r),j(Ra,a),p(Na),Oa=!1,H(Pa)}}}function G(a,r,e){let t=[],s=0,o="",n=20,c=0;async function l({keyword:a,per_page:r,page:s}){const o={page:s,keyword:a,per_page:r,stock:!0};try{const a=await B({url:"/api/v1/product",params:o});e(3,t=a.items.map((a=>({...a,sold:parseInt(a.sold),defective:parseInt(a.defective),available:parseInt(a.available),quantity:parseInt(a.quantity)})))),e(4,c=a.total_page)}catch(a){console.log(a),alert("gagal mengambil data produk")}}function i(a){const r=`/api/v1/product/${a}`;P.show({entity:"kategori",id:a,on_yes:async()=>{try{await A({url:r}),await l({keyword:o,per_page:n,page:s})}catch(a){console.log(a),alert("gagal menghapus data kategori")}}})}return a.$$.update=()=>{7&a.$$.dirty&&l({keyword:o,per_page:n,page:s})},[s,o,n,t,c,i,a=>{e(0,s=0),e(1,o=a.target.value)},a=>{e(0,s=0),e(2,n=parseInt(a.target.value))},a=>{i(a.id)},a=>{e(0,s=a.detail)}]}export default class extends a{constructor(a){super(),r(this,a,G,M,e,{})}}
