import{S as a,i as r,s as t,e,t as l,a as s,y as o,b as c,f as n,g as h,d as i,c as f,z as d,h as p,j as u,k as g,A as v,N as m,D as E,E as T,F as D,m as b,q as $,J as I,R as _,V as y}from"./client.36844de2.js";import{F as j}from"./FaPencilAlt.537b2edc.js";import{g as x}from"./api.e630a648.js";import{r as A}from"./rupiah.1a14ef94.js";import"./IconBase.52240270.js";function H(a,r,t){const e=a.slice();return e[8]=r[t],e[10]=t,e}function V(a,r,t){const e=a.slice();return e[11]=r[t],e[10]=t,e}function B(a){let r,t,b,$,I,_,y,x,H,V,B,N,w,O,k,C,S,F,L,P,R,U,q,z,J,Y,G,K,M,Q,W,X,Z,aa,ra,ta,ea,la=a[10]+1+a[1]*a[0]+"",sa=a[11].customer+"",oa=a[11].empl_name+"",ca=a[11].order_id+"",na=A(a[11].total)+"",ha=A(a[11].paid)+"",ia=A(a[11].total-a[11].paid)+"";return aa=new j({}),{c(){r=e("tr"),t=e("td"),b=l(la),$=s(),I=e("td"),_=e("a"),y=l(sa),H=s(),V=e("td"),B=l(oa),N=s(),w=e("td"),O=e("a"),k=l(ca),S=s(),F=e("td"),L=l(na),P=s(),R=e("td"),U=l(ha),q=s(),z=e("td"),J=l(ia),Y=s(),G=e("td"),K=s(),M=e("td"),Q=e("td"),W=e("div"),X=e("a"),Z=e("div"),o(aa.$$.fragment),ta=s(),this.h()},l(a){r=c(a,"TR",{});var e=n(r);t=c(e,"TD",{});var l=n(t);b=h(l,la),l.forEach(i),$=f(e),I=c(e,"TD",{});var s=n(I);_=c(s,"A",{href:!0,class:!0});var o=n(_);y=h(o,sa),o.forEach(i),s.forEach(i),H=f(e),V=c(e,"TD",{});var p=n(V);B=h(p,oa),p.forEach(i),N=f(e),w=c(e,"TD",{});var u=n(w);O=c(u,"A",{href:!0,class:!0});var g=n(O);k=h(g,ca),g.forEach(i),u.forEach(i),S=f(e),F=c(e,"TD",{});var v=n(F);L=h(v,na),v.forEach(i),P=f(e),R=c(e,"TD",{});var m=n(R);U=h(m,ha),m.forEach(i),q=f(e),z=c(e,"TD",{});var E=n(z);J=h(E,ia),E.forEach(i),Y=f(e),G=c(e,"TD",{}),n(G).forEach(i),K=f(e),M=c(e,"TD",{}),n(M).forEach(i),Q=c(e,"TD",{});var T=n(Q);W=c(T,"DIV",{class:!0});var D=n(W);X=c(D,"A",{href:!0,class:!0});var j=n(X);Z=c(j,"DIV",{class:!0});var x=n(Z);d(aa.$$.fragment,x),x.forEach(i),j.forEach(i),D.forEach(i),T.forEach(i),ta=f(e),e.forEach(i),this.h()},h(){p(_,"href",x=`/app/customer/${a[11].customer_id}/edit`),p(_,"class","just-link"),p(O,"href",C=`/app/sale/${a[11].order_id}/detail`),p(O,"class","just-link"),p(Z,"class","w-3 h-3 text-blue-500"),p(X,"href",ra=`/app/ar/${a[11].id}/detail`),p(X,"class","appearance-none rounded-full p-1 mr-2 hover:bg-gray-300"),p(W,"class","flex items-center")},m(a,e){u(a,r,e),g(r,t),g(t,b),g(r,$),g(r,I),g(I,_),g(_,y),g(r,H),g(r,V),g(V,B),g(r,N),g(r,w),g(w,O),g(O,k),g(r,S),g(r,F),g(F,L),g(r,P),g(r,R),g(R,U),g(r,q),g(r,z),g(z,J),g(r,Y),g(r,G),g(r,K),g(r,M),g(r,Q),g(Q,W),g(W,X),g(X,Z),v(aa,Z,null),g(r,ta),ea=!0},p(a,r){(!ea||3&r)&&la!==(la=a[10]+1+a[1]*a[0]+"")&&m(b,la),(!ea||16&r)&&sa!==(sa=a[11].customer+"")&&m(y,sa),(!ea||16&r&&x!==(x=`/app/customer/${a[11].customer_id}/edit`))&&p(_,"href",x),(!ea||16&r)&&oa!==(oa=a[11].empl_name+"")&&m(B,oa),(!ea||16&r)&&ca!==(ca=a[11].order_id+"")&&m(k,ca),(!ea||16&r&&C!==(C=`/app/sale/${a[11].order_id}/detail`))&&p(O,"href",C),(!ea||16&r)&&na!==(na=A(a[11].total)+"")&&m(L,na),(!ea||16&r)&&ha!==(ha=A(a[11].paid)+"")&&m(U,ha),(!ea||16&r)&&ia!==(ia=A(a[11].total-a[11].paid)+"")&&m(J,ia),(!ea||16&r&&ra!==(ra=`/app/ar/${a[11].id}/detail`))&&p(X,"href",ra)},i(a){ea||(E(aa.$$.fragment,a),ea=!0)},o(a){T(aa.$$.fragment,a),ea=!1},d(a){a&&i(r),D(aa)}}}function N(a){let r,t,o,d,v,m=a[10]+1+"";function E(){return a[6](a[10])}return{c(){r=e("button"),t=l(m),o=s(),this.h()},l(a){r=c(a,"BUTTON",{class:!0});var e=n(r);t=h(e,m),o=f(e),e.forEach(i),this.h()},h(){p(r,"class","inline-block rounded px-2 py-1 text-center text-xs font-bold border border-gray-300 mr-2")},m(a,e){u(a,r,e),g(r,t),g(r,o),d||(v=b(r,"click",E),d=!0)},p(r,t){a=r},d(a){a&&i(r),d=!1,v()}}}function w(a){let r,t,o,d,v,D,j,x,A,w,O,k,C,S,F,L,P,R,U,q,z,J,Y,G,K,M,Q,W,X,Z,aa,ra,ta,ea,la,sa,oa,ca,na,ha,ia,fa,da,pa,ua,ga,va,ma,Ea,Ta,Da,ba,$a,Ia,_a,ya,ja=a[4],xa=[];for(let r=0;r<ja.length;r+=1)xa[r]=B(V(a,ja,r));const Aa=a=>T(xa[a],1,1,(()=>{xa[a]=null}));let Ha=Array(a[3]),Va=[];for(let r=0;r<Ha.length;r+=1)Va[r]=N(H(a,Ha,r));return{c(){r=s(),t=e("div"),o=e("section"),d=e("div"),v=e("div"),D=l("data piutang"),j=s(),x=e("div"),A=l(a[2]),w=s(),O=e("div"),k=e("label"),C=l("per halaman"),S=s(),F=e("input"),L=s(),P=e("div"),R=s(),U=e("button"),q=l("print"),z=s(),J=e("section"),Y=e("table"),G=e("thead"),K=e("tr"),M=e("th"),Q=l("no."),W=s(),X=e("th"),Z=l("pelanggan"),aa=s(),ra=e("th"),ta=l("pegawai"),ea=s(),la=e("th"),sa=l("penjualan"),oa=s(),ca=e("th"),na=l("jumlah"),ha=s(),ia=e("th"),fa=l("sudah dibayar"),da=s(),pa=e("th"),ua=l("tersisa"),ga=s(),va=e("th"),ma=s(),Ea=e("th"),Ta=s(),Da=e("tbody");for(let a=0;a<xa.length;a+=1)xa[a].c();ba=s(),$a=e("section");for(let a=0;a<Va.length;a+=1)Va[a].c();this.h()},l(e){$('[data-svelte="svelte-1g9tlc9"]',document.head).forEach(i),r=f(e),t=c(e,"DIV",{class:!0});var l=n(t);o=c(l,"SECTION",{class:!0});var s=n(o);d=c(s,"DIV",{class:!0});var p=n(d);v=c(p,"DIV",{});var u=n(v);D=h(u,"data piutang"),u.forEach(i),j=f(p),x=c(p,"DIV",{});var g=n(x);A=h(g,a[2]),g.forEach(i),p.forEach(i),w=f(s),O=c(s,"DIV",{class:!0});var m=n(O);k=c(m,"LABEL",{});var E=n(k);C=h(E,"per halaman"),E.forEach(i),S=f(m),F=c(m,"INPUT",{value:!0,type:!0,min:!0}),m.forEach(i),L=f(s),P=c(s,"DIV",{class:!0}),n(P).forEach(i),R=f(s),U=c(s,"BUTTON",{class:!0});var T=n(U);q=h(T,"print"),T.forEach(i),s.forEach(i),z=f(l),J=c(l,"SECTION",{});var b=n(J);Y=c(b,"TABLE",{class:!0});var I=n(Y);G=c(I,"THEAD",{});var _=n(G);K=c(_,"TR",{});var y=n(K);M=c(y,"TH",{});var H=n(M);Q=h(H,"no."),H.forEach(i),W=f(y),X=c(y,"TH",{});var V=n(X);Z=h(V,"pelanggan"),V.forEach(i),aa=f(y),ra=c(y,"TH",{});var B=n(ra);ta=h(B,"pegawai"),B.forEach(i),ea=f(y),la=c(y,"TH",{});var N=n(la);sa=h(N,"penjualan"),N.forEach(i),oa=f(y),ca=c(y,"TH",{});var Ia=n(ca);na=h(Ia,"jumlah"),Ia.forEach(i),ha=f(y),ia=c(y,"TH",{});var _a=n(ia);fa=h(_a,"sudah dibayar"),_a.forEach(i),da=f(y),pa=c(y,"TH",{});var ya=n(pa);ua=h(ya,"tersisa"),ya.forEach(i),ga=f(y),va=c(y,"TH",{}),n(va).forEach(i),ma=f(y),Ea=c(y,"TH",{}),n(Ea).forEach(i),y.forEach(i),_.forEach(i),Ta=f(I),Da=c(I,"TBODY",{});var ja=n(Da);for(let a=0;a<xa.length;a+=1)xa[a].l(ja);ja.forEach(i),I.forEach(i),b.forEach(i),ba=f(l),$a=c(l,"SECTION",{class:!0});var Aa=n($a);for(let a=0;a<Va.length;a+=1)Va[a].l(Aa);Aa.forEach(i),l.forEach(i),this.h()},h(){document.title="Cendana -- Data Piutang",p(d,"class","title-count"),F.value=a[1],p(F,"type","number"),p(F,"min","10"),p(O,"class","group-input"),p(P,"class","flex-grow"),p(U,"class","outline-primary mr-2"),p(o,"class","header flex text-sm"),p(Y,"class","jo-table"),p($a,"class","pagination"),p(t,"class","cont")},m(e,l){u(e,r,l),u(e,t,l),g(t,o),g(o,d),g(d,v),g(v,D),g(d,j),g(d,x),g(x,A),g(o,w),g(o,O),g(O,k),g(k,C),g(O,S),g(O,F),g(o,L),g(o,P),g(o,R),g(o,U),g(U,q),g(t,z),g(t,J),g(J,Y),g(Y,G),g(G,K),g(K,M),g(M,Q),g(K,W),g(K,X),g(X,Z),g(K,aa),g(K,ra),g(ra,ta),g(K,ea),g(K,la),g(la,sa),g(K,oa),g(K,ca),g(ca,na),g(K,ha),g(K,ia),g(ia,fa),g(K,da),g(K,pa),g(pa,ua),g(K,ga),g(K,va),g(K,ma),g(K,Ea),g(Y,Ta),g(Y,Da);for(let a=0;a<xa.length;a+=1)xa[a].m(Da,null);g(t,ba),g(t,$a);for(let a=0;a<Va.length;a+=1)Va[a].m($a,null);Ia=!0,_a||(ya=b(F,"change",a[5]),_a=!0)},p(a,[r]){if((!Ia||4&r)&&m(A,a[2]),(!Ia||2&r)&&(F.value=a[1]),19&r){let t;for(ja=a[4],t=0;t<ja.length;t+=1){const e=V(a,ja,t);xa[t]?(xa[t].p(e,r),E(xa[t],1)):(xa[t]=B(e),xa[t].c(),E(xa[t],1),xa[t].m(Da,null))}for(y(),t=ja.length;t<xa.length;t+=1)Aa(t);I()}if(9&r){let t;for(Ha=Array(a[3]),t=0;t<Ha.length;t+=1){const e=H(a,Ha,t);Va[t]?Va[t].p(e,r):(Va[t]=N(e),Va[t].c(),Va[t].m($a,null))}for(;t<Va.length;t+=1)Va[t].d(1);Va.length=Ha.length}},i(a){if(!Ia){for(let a=0;a<ja.length;a+=1)E(xa[a]);Ia=!0}},o(a){xa=xa.filter(Boolean);for(let a=0;a<xa.length;a+=1)T(xa[a]);Ia=!1},d(a){a&&i(r),a&&i(t),_(xa,a),_(Va,a),_a=!1,ya()}}}function O(a,r,t){let e=0,l=0,s=0,o=10,c=[];return a.$$.update=()=>{3&a.$$.dirty&&async function({per_page:a,page:r}){try{const s=await x({url:"/api/v1/ar",params:{per_page:a,page:r}});t(2,e=s.total_data),t(3,l=s.total_page),t(4,c=s.items.map((a=>({...a,order_grand_total:parseInt(a.order_grand_total),total:parseInt(a.total),paid:a.paid?parseInt(a.paid):0}))))}catch(a){console.log(a),alert("gagal mengambil data piutang")}}({per_page:o,page:s})},[s,o,e,l,c,a=>{t(0,s=0),t(1,o=parseInt(a.target.value))},a=>{t(0,s=a)}]}export default class extends a{constructor(a){super(),r(this,a,O,w,t,{})}}
