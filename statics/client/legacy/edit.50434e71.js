import{y as a,_ as t,a as r,b as e,c as n,i as s,d as c,S as o,s as i,f as u,t as l,e as f,F as d,j as p,k as h,l as v,g as m,h as b,G as x,m as g,n as y,o as E,r as k,H as w,u as $,v as I,K as L,L as j,M as A,w as D,x as T,a0 as V,C as B}from"./client.42fd2496.js";import{_ as R,g as S,b as N}from"./api.385c9671.js";import{M as P}from"./MultiSelect.da431ccc.js";import{f as M}from"./index.ba697847.js";import"./IconBase.e6b638b5.js";import"./popper.b51d80d4.js";function q(a){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(a){return!1}}();return function(){var n,s=r(a);if(t){var c=r(this).constructor;n=Reflect.construct(s,arguments,c)}else n=s.apply(this,arguments);return e(this,n)}}function K(a){var t,r;return{c:function(){t=u("small"),r=l("nama harus diisi"),this.h()},l:function(a){t=p(a,"SMALL",{class:!0});var e=h(t);r=v(e,"nama harus diisi"),e.forEach(m),this.h()},h:function(){g(t,"class","text-red-500 text-xs")},m:function(a,e){y(a,t,e),E(t,r)},d:function(a){a&&m(t)}}}function U(a){var t,r,e,n,s,c,o,i,T,V,B,R,S,N,M,q,U,_,X,F,G,H,O,z,J,Q,W,Y,Z,aa,ta,ra,ea,na,sa,ca,oa,ia,ua,la,fa,da,pa=a[6].fields.title.errors.includes("required"),ha=pa&&K();return(O=new P({props:{options:a[4].map(C),selected:a[5],label:"pilih kategori"}})).$on("select",a[12]),O.$on("remove",a[13]),{c:function(){t=u("div"),r=u("div"),e=u("div"),n=l("ubah data produk"),s=f(),c=u("div"),o=u("label"),i=l("Nama"),T=f(),V=u("input"),B=f(),ha&&ha.c(),R=f(),S=u("div"),N=u("label"),M=l("Satuan"),q=f(),U=u("input"),_=f(),X=u("div"),F=u("label"),G=l("Kategori"),H=f(),d(O.$$.fragment),z=f(),J=u("div"),Q=u("label"),W=l("Penjelasan"),Y=f(),Z=u("textarea"),aa=f(),ta=u("div"),ra=u("label"),ea=l("Info Tambahan"),na=f(),sa=u("textarea"),ca=f(),oa=u("button"),ia=l("simpan"),this.h()},l:function(a){t=p(a,"DIV",{class:!0});var u=h(t);r=p(u,"DIV",{class:!0});var l=h(r);e=p(l,"DIV",{class:!0});var f=h(e);n=v(f,"ubah data produk"),f.forEach(m),s=b(l),c=p(l,"DIV",{class:!0});var d=h(c);o=p(d,"LABEL",{});var g=h(o);i=v(g,"Nama"),g.forEach(m),T=b(d),V=p(d,"INPUT",{class:!0}),B=b(d),ha&&ha.l(d),d.forEach(m),R=b(l),S=p(l,"DIV",{class:!0});var y=h(S);N=p(y,"LABEL",{});var E=h(N);M=v(E,"Satuan"),E.forEach(m),q=b(y),U=p(y,"INPUT",{class:!0}),y.forEach(m),_=b(l),X=p(l,"DIV",{class:!0});var k=h(X);F=p(k,"LABEL",{});var w=h(F);G=v(w,"Kategori"),w.forEach(m),H=b(k),x(O.$$.fragment,k),k.forEach(m),z=b(l),J=p(l,"DIV",{class:!0});var $=h(J);Q=p($,"LABEL",{});var I=h(Q);W=v(I,"Penjelasan"),I.forEach(m),Y=b($),Z=p($,"TEXTAREA",{class:!0}),h(Z).forEach(m),$.forEach(m),aa=b(l),ta=p(l,"DIV",{class:!0});var L=h(ta);ra=p(L,"LABEL",{});var j=h(ra);ea=v(j,"Info Tambahan"),j.forEach(m),na=b(L),sa=p(L,"TEXTAREA",{class:!0}),h(sa).forEach(m),L.forEach(m),ca=b(l),oa=p(l,"BUTTON",{disabled:!0,class:!0});var A=h(oa);ia=v(A,"simpan"),A.forEach(m),l.forEach(m),u.forEach(m),this.h()},h:function(){g(e,"class","font-bold text-xl mb-3"),g(V,"class","border border-gray-300 rounded p-2"),g(c,"class","flex flex-col mb-3"),g(U,"class","border border-gray-300 rounded p-2"),g(S,"class","flex flex-col mb-3"),g(X,"class","flex flex-col mb-3"),g(Z,"class","border border-gray-300 rounded p-2"),g(J,"class","flex flex-col mb-3"),g(sa,"class","border border-gray-300 rounded p-2"),g(ta,"class","flex flex-col mb-3"),oa.disabled=ua=!a[6].valid,g(oa,"class","px-6 py-1 bg-blue-600 text-white font-bold rounded shadow disabled:opacity-50"),g(r,"class","w-1/3 p-4 rounded bg-white text-sm"),g(t,"class","flex items-center justify-center flex-grow")},m:function(u,l){y(u,t,l),E(t,r),E(r,e),E(e,n),E(r,s),E(r,c),E(c,o),E(o,i),E(c,T),E(c,V),k(V,a[0]),E(c,B),ha&&ha.m(c,null),E(r,R),E(r,S),E(S,N),E(N,M),E(S,q),E(S,U),k(U,a[2]),E(r,_),E(r,X),E(X,F),E(F,G),E(X,H),w(O,X,null),E(r,z),E(r,J),E(J,Q),E(Q,W),E(J,Y),E(J,Z),k(Z,a[1]),E(r,aa),E(r,ta),E(ta,ra),E(ra,ea),E(ta,na),E(ta,sa),k(sa,a[3]),E(r,ca),E(r,oa),E(oa,ia),la=!0,fa||(da=[$(V,"input",a[10]),$(U,"input",a[11]),$(Z,"input",a[14]),$(sa,"input",a[15]),$(oa,"click",a[8])],fa=!0)},p:function(a,t){var r=I(t,1)[0];1&r&&V.value!==a[0]&&k(V,a[0]),64&r&&(pa=a[6].fields.title.errors.includes("required")),pa?ha||((ha=K()).c(),ha.m(c,null)):ha&&(ha.d(1),ha=null),4&r&&U.value!==a[2]&&k(U,a[2]);var e={};16&r&&(e.options=a[4].map(C)),32&r&&(e.selected=a[5]),O.$set(e),2&r&&k(Z,a[1]),8&r&&k(sa,a[3]),(!la||64&r&&ua!==(ua=!a[6].valid))&&(oa.disabled=ua)},i:function(a){la||(L(O.$$.fragment,a),la=!0)},o:function(a){j(O.$$.fragment,a),la=!1},d:function(a){a&&m(t),ha&&ha.d(),A(O),fa=!1,D(da)}}}function _(a){return X.apply(this,arguments)}function X(){return(X=R(a.mark((function t(r){return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",r.params);case 1:case"end":return a.stop()}}),t)})))).apply(this,arguments)}var C=function(a){return{label:a.title,value:a.id}};function F(t,r,e){var n,s=r.id,c="",o="",i="",u="",l=[],f=[],d=M((function(){return{title:{value:c,validators:["required"]}}}));function p(){return(p=R(a.mark((function t(r){var n,s,l;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=r.id,a.next=3;break;case 3:if(n){a.next=5;break}return a.abrupt("return");case 5:return s="/api/v1/product/".concat(n),a.prev=6,a.next=9,S({url:s});case 9:l=a.sent,e(0,c=l.title),e(1,o=l.summary),e(3,u=l.content),e(2,i=l.unit),e(5,f=l.categories.map((function(a){return a.id}))),a.next=21;break;case 17:a.prev=17,a.t0=a.catch(6),console.log(a.t0),alert("gagal mengambil data produk");case 21:case"end":return a.stop()}}),t,null,[[6,17]])})))).apply(this,arguments)}function h(){return v.apply(this,arguments)}function v(){return(v=R(a.mark((function t(){return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.t0=e,a.next=4,S({url:"/api/v1/category"});case 4:a.t1=l=a.sent,(0,a.t0)(4,a.t1),a.next=12;break;case 8:a.prev=8,a.t2=a.catch(0),console.log(a.t2),alert("gagal memuat data kategori");case 12:case"end":return a.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function m(){return(m=R(a.mark((function t(){var r,e,n;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={title:c,summary:o,content:u,unit:i,selected_categories:f},e="/api/v1/product/".concat(s),a.prev=2,a.next=5,N({url:e,payload:r});case 5:n=a.sent,console.log(n),alert("sukses mengubah data produk"),window.history.back(),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(2),console.log(a.t0),alert("gagal mengubah data produk");case 15:case"end":return a.stop()}}),t,null,[[2,11]])})))).apply(this,arguments)}T(t,d,(function(a){return e(6,n=a)})),V(R(a.mark((function t(){return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h();case 2:case"end":return a.stop()}}),t)}))));return t.$$set=function(a){"id"in a&&e(9,s=a.id)},t.$$.update=function(){512&t.$$.dirty&&function(a){p.apply(this,arguments)}({id:s})},[c,o,i,u,l,f,n,d,function(){return m.apply(this,arguments)},s,function(){c=this.value,e(0,c)},function(){i=this.value,e(2,i)},function(a){f.push(a.detail),e(5,f=B(f))},function(a){e(5,f=f.filter((function(t){return t!=a.detail})))},function(){o=this.value,e(1,o)},function(){u=this.value,e(3,u)}]}var G=function(a){t(e,o);var r=q(e);function e(a){var t;return n(this,e),t=r.call(this),s(c(t),a,F,U,i,{id:9}),t}return e}();export default G;export{_ as preload};
