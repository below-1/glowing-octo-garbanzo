import{y as t,_ as a,a as r,b as e,c as n,i as s,d as i,S as c,s as o,f as u,t as l,e as f,j as d,k as p,l as h,g as v,h as b,m,n as x,o as g,r as y,u as w,v as k,p as E,w as D,x as I}from"./client.42fd2496.js";import{_ as L,g as A,b as R}from"./api.385c9671.js";import{f as T}from"./index.ba697847.js";function V(t){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,s=r(t);if(a){var i=r(this).constructor;n=Reflect.construct(s,arguments,i)}else n=s.apply(this,arguments);return e(this,n)}}function $(t){var a,r;return{c:function(){a=u("small"),r=l("nama harus diisi"),this.h()},l:function(t){a=d(t,"SMALL",{class:!0});var e=p(a);r=h(e,"nama harus diisi"),e.forEach(v),this.h()},h:function(){m(a,"class","text-red-500 text-xs")},m:function(t,e){x(t,a,e),g(a,r)},d:function(t){t&&v(a)}}}function j(t){var a,r,e,n,s,i,c,o,I,L,A,R,T,V,j,N,S,B,_,q,P,U,K,M,O,X,z,C,F,G=t[3].fields.title.errors.includes("required"),H=G&&$();return{c:function(){a=u("div"),r=u("div"),e=u("div"),n=l("input data kategori"),s=f(),i=u("div"),c=u("label"),o=l("Nama"),I=f(),L=u("input"),A=f(),H&&H.c(),R=f(),T=u("div"),V=u("label"),j=l("Subtitle"),N=f(),S=u("input"),B=f(),_=u("div"),q=u("label"),P=l("Keterangan"),U=f(),K=u("textarea"),M=f(),O=u("button"),X=l("simpan"),this.h()},l:function(t){a=d(t,"DIV",{class:!0});var u=p(a);r=d(u,"DIV",{class:!0});var l=p(r);e=d(l,"DIV",{class:!0});var f=p(e);n=h(f,"input data kategori"),f.forEach(v),s=b(l),i=d(l,"DIV",{class:!0});var m=p(i);c=d(m,"LABEL",{});var x=p(c);o=h(x,"Nama"),x.forEach(v),I=b(m),L=d(m,"INPUT",{class:!0}),A=b(m),H&&H.l(m),m.forEach(v),R=b(l),T=d(l,"DIV",{class:!0});var g=p(T);V=d(g,"LABEL",{});var y=p(V);j=h(y,"Subtitle"),y.forEach(v),N=b(g),S=d(g,"INPUT",{class:!0}),g.forEach(v),B=b(l),_=d(l,"DIV",{class:!0});var w=p(_);q=d(w,"LABEL",{});var k=p(q);P=h(k,"Keterangan"),k.forEach(v),U=b(w),K=d(w,"TEXTAREA",{rows:!0,class:!0}),p(K).forEach(v),w.forEach(v),M=b(l),O=d(l,"BUTTON",{disabled:!0,class:!0});var E=p(O);X=h(E,"simpan"),E.forEach(v),l.forEach(v),u.forEach(v),this.h()},h:function(){m(e,"class","font-bold text-xl mb-3"),m(L,"class","border border-gray-300 rounded p-2"),m(i,"class","flex flex-col mb-3"),m(S,"class","border border-gray-300 rounded p-2"),m(T,"class","flex flex-col mb-3"),m(K,"rows","5"),m(K,"class","border border-gray-300 rounded p-2"),m(_,"class","flex flex-col mb-3"),O.disabled=z=!t[3].valid,m(O,"class","px-6 py-1 bg-blue-600 text-white font-bold rounded shadow disabled:opacity-50"),m(r,"class","w-1/3 p-4 rounded bg-white text-sm"),m(a,"class","flex items-center justify-center flex-grow")},m:function(u,l){x(u,a,l),g(a,r),g(r,e),g(e,n),g(r,s),g(r,i),g(i,c),g(c,o),g(i,I),g(i,L),y(L,t[0]),g(i,A),H&&H.m(i,null),g(r,R),g(r,T),g(T,V),g(V,j),g(T,N),g(T,S),y(S,t[1]),g(r,B),g(r,_),g(_,q),g(q,P),g(_,U),g(_,K),y(K,t[2]),g(r,M),g(r,O),g(O,X),C||(F=[w(L,"input",t[7]),w(S,"input",t[8]),w(K,"input",t[9]),w(O,"click",t[5])],C=!0)},p:function(t,a){var r=k(a,1)[0];1&r&&L.value!==t[0]&&y(L,t[0]),8&r&&(G=t[3].fields.title.errors.includes("required")),G?H||((H=$()).c(),H.m(i,null)):H&&(H.d(1),H=null),2&r&&S.value!==t[1]&&y(S,t[1]),4&r&&y(K,t[2]),8&r&&z!==(z=!t[3].valid)&&(O.disabled=z)},i:E,o:E,d:function(t){t&&v(a),H&&H.d(),C=!1,D(F)}}}function N(t){return S.apply(this,arguments)}function S(){return(S=L(t.mark((function a(r){return t.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.params);case 1:case"end":return t.stop()}}),a)})))).apply(this,arguments)}function B(a,r,e){var n,s=r.id,i="",c="",o="",u=T((function(){return{title:{value:i,validators:["required"]}}}));function l(){return(l=L(t.mark((function a(r){var n,s;return t.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=r.id,t.next=3;break;case 3:if(n){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,A({url:"/api/v1/category/".concat(n)});case 8:s=t.sent,e(0,i=s.title),e(1,c=s.meta_title),e(2,o=s.content),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(5),console.log(t.t0),alert("gagal mengambil data kategori"),window.history.back();case 19:case"end":return t.stop()}}),a,null,[[5,14]])})))).apply(this,arguments)}function f(){return(f=L(t.mark((function a(){var r;return t.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={title:i,meta_title:c,content:o},t.prev=1,t.next=4,R({url:"/api/v1/category/".concat(s),payload:r});case 4:alert("sukses menambah data kategori"),window.history.back(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),alert("gagal menambah data kategori");case 12:case"end":return t.stop()}}),a,null,[[1,8]])})))).apply(this,arguments)}return I(a,u,(function(t){return e(3,n=t)})),a.$$set=function(t){"id"in t&&e(6,s=t.id)},a.$$.update=function(){64&a.$$.dirty&&function(t){l.apply(this,arguments)}({id:s})},[i,c,o,n,u,function(){return f.apply(this,arguments)},s,function(){i=this.value,e(0,i)},function(){c=this.value,e(1,c)},function(){o=this.value,e(2,o)}]}var _=function(t){a(e,c);var r=V(e);function e(t){var a;return n(this,e),a=r.call(this),s(i(a),t,B,j,o,{id:6}),a}return e}();export default _;export{N as preload};
